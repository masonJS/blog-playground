# 기억에 남는 부분 정리

## 2. 테스트 피라미드

> 실용적인 테스트에 관해 이야기할때 가장 먼저 결정해야 하는 사항은 어느 수준으로 코드를 테스트하는가 이다.
> 테스트 수준은 크게 단위 테스트, 통합 테스트, 시스템 테스트로 나뉜다.

여기서 테스트 수준이라는 표현이 기억에 남는다.  
뭔가는 지금까지 이 테스트 피라미드 구조를 "단계" 라는 용어로 표현했다.   


> 단위 테스트
> 정의
> - 단위 테스트는 시스템에서 작업 단위를 호출하는 자동화된 코드 조각이다. 
> - 작업 단위는 한 메서드, 클래스 또는 함께 동작하는 여러 클래스일수 있다.
> - 
> 장점
> - 빠르다.
> - 다루기 쉽다
> - 작성하기 쉽다.
> 단점
> - 현실성이 떨어진다.
>   - 단일 클래스로 구성된 소프트웨어 시스템은 거의 없다.
>   - 시스템의 수많은 클래스와 클래스 간 상호작용으로 인해 실제 애플리케이션은 단위 테스트와 다르게 동작한다.
>   - 따라서 단위 테스트는 소프트웨어 시스템의 실제 실행 모습을 완벽하게 재현할 수 없다.

단위 테스트에 대한 정의와 장,단점에 대한 소개가 있었다.    
단위 테스트에 대한 단점이 가장 기억에 남고 와닫는 말이었다.


> 통합 테스트
> - 코드와 외부 요소 간의 통합을 테스트해야할때 사용하는 테스트 수준이다.
> - 시스템 전체를 테스트하는 대신 구성요소들의 상호작용에 초점을 맞춘다.
> - 단점
>   - 통합 테스트는 단위 테스트보다 더 느리고 더 어렵다.
>   - 데이터베이스 테스트

통합 테스트에 대해서 다시 한번 정의해본 시간이었다.

> 데이터베이스 테스트
> - 스키마를 갱신하고 행을 추가 또는 삭제해서 데이터베이스를 테스트 기대 상태로 만들고
> - 테스트가 끝나면 모든 것을 깨끗한 상태로 되돌려야 한다.

> 시스템 테스트
> 시스템 전체 테스트 진행
> 테스트 수준중에 가장 현실적이다.
> - 단점
>   - 느리다
>   - 작성하기 어렵다.
>   - 불안정한 경향이 있다.

시스템 테스트의 특징은 가장 현실적이다라는 말이 와닫는다.    

> 테스트 피라미드의 층이 위로 올라갈수록 더 현실적이고 복잡해진다.
> 단위 -> 통합 -> 시스템 테스트

> 정리 
> 단위 테스트 - 모든 비즈니스 규칙을 담당 테스트
> 통합 테스트 - 외부 서비스와의 복잡한 통합 테스트
> 시스템 테스트 - 애플리케이션의 주요하고 위험한 실행 흐름 테스트


