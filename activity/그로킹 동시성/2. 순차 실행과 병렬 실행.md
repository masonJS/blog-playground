## 2. 순차 실행과 병렬 실행


#### 동시성과 병렬성

> ***"동시성은 '구조(Structure)'에 관한 것이고, 병렬성은 '실행(Execution)'에 관한 것입니다." — 롭 파이크 (Go 언어 창시자)***


| 구분      | 동시성 (Concurrency)                          | 병렬성 (Parallelism)                          |
|---------|--------------------------------------------|--------------------------------------------|
| 핵심 질문   | 여러 일을 번갈아 가며 처리하는가?                        | 여러 일을 물리적으로 동시에 하는가?                       |
| 관점      | 논리적인 구조 (소프트웨어 설계)                         | 물리적인 실행 (하드웨어 성능)                          |
| 필요 하드웨어 | 싱글 코어에서도 가능 (1 Core)                       | 반드시 멀티 코어 필요 (Multi-core)                  |
| 목적      | 효율성 & 반응성: 유휴 시간(대기 시간)을 줄여서 놀지 않고 일하기 위함. | 속도: 거대한 계산을 여러 명이 나눠서 빨리 끝내기 위함.           |
| 적합한 작업  | I/O 바운드 작업: 웹 요청 대기, 파일 읽기/쓰기 등.           | CPU 바운드 작업: 대규모 수학 연산, 동영상 렌더링, 머신러닝 학습 등. |

<br>

#### 암달의 법칙

- 진 암달(Gene Amdahl)이 1967년에 제안한 법칙으로, "작업의 크기가 고정되어 있을 때"를 가정합니다.
- 프로그램 안에는 병렬로 처리할 수 없는 '직렬 구간(Sequential Part)'이 반드시 존재합니다. 
  - (예: 초기화, 결과 취합 등) 이 직렬 구간 때문에, 코어를 아무리 무한대로 늘려도 전체 속도는 일정 수준 이상 빨라지지 않습니다.

$$Speedup \le \frac{1}{(1 - P) + \frac{P}{N}}$$

- $P$: 병렬 처리가 가능한 부분의 비율 (예: 90% = 0.9)
- $N$: 프로세서(코어)의 개수

<br>

#### 구스타프슨의 법칙
- 존 구스타프슨(John Gustafson)이 1988년에 제안한 법칙으로, 암달의 법칙을 반박하며 "시간이 고정되어 있을 때"를 가정합니다.
- 암달의 법칙은 "같은 일을 더 빨리 끝내는 것"에만 집착했습니다. 
  - 하지만 현실에서 우리는 컴퓨터가 빨라지면 "같은 시간 동안 더 크고 복잡한 일"을 시킵니다. 
  - 데이터의 크기가 커지면 병렬 처리가 가능한 부분이 직렬 부분보다 훨씬 빠르게 늘어나므로, 성능 효율은 코어 수에 비례해서 증가합니다.

$$Speedup = N - (1 - P) \times (N - 1)$$

- $N$: 프로세서(코어)의 개수
- $P$: 병렬 처리가 가능한 부분의 비율


<br>

| 구분     | 암달의 법칙 (Amdahl)          | 구스타프슨의 법칙 (Gustafson)            |
|--------|--------------------------|----------------------------------|
| 전제 조건  | 작업량(Workload) 고정         | 처리 시간(Time) 고정                   |
| 목표     | 실행 시간을 단축하자! (Latency ↓) | 같은 시간에 더 많이 처리하자! (Throughput ▲) |
| 관점     | 직렬 구간이 병목이 된다.           | 병렬 구간을 늘려 규모를 키운다.               |
| 결과     | 수확 체감 (코어를 늘려도 효율이 떨어짐)  | 선형 증가 (코어를 늘린 만큼 성능 향상)          |
| 현대적 의미 | 단일 프로그램 최적화의 한계 설명       | 클라우드/빅데이터/AI의 성공 원리 설명           |
